version: "3.1"

rules:

- rule: Greet user
  steps:
    - intent: greet
    - action: action_greet

- rule: Say goodbye
  steps:
    - intent: goodbye
    - action: action_goodbye

- rule: Respond to bot challenge
  steps:
    - intent: bot_challenge
    - action: action_bot_challenge

- rule: Handle fallback
  steps:
    - intent: nlu_fallback
    - action: utter_fallback

- rule: Default response for unknown input
  steps:
    - action: utter_default

# ✅ Respond to condition queries using KB
- rule: Provide condition info from KB
  condition:
    - slot_was_set:
        - condition: "LCMV"  # Optional example; rule works for any value
  steps:
    - intent: ask_about_condition
    - action: action_query_kb

# ✅ Respond to symptom queries using KB
- rule: Provide symptom info from KB
  condition:
    - slot_was_set:
        - condition: "dengue"
  steps:
    - intent: ask_about_symptom
    - action: action_query_kb

# ✅ Respond to first aid queries using KB
- rule: Provide first aid info from KB
  condition:
    - slot_was_set:
        - condition: "malaria"
  steps:
    - intent: query_first_aid
    - action: action_query_kb

# ✅ Respond to prevention queries using KB
- rule: Provide prevention info from KB
  condition:
    - slot_was_set:
        - condition: "typhoid"
  steps:
    - intent: ask_about_prevention
    - action: action_query_kb
